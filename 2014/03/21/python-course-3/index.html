<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>《Python核心編程》筆記（三） - Justuno技術筆記</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Justuno技術筆記"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Justuno技術筆記"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="今次的內容主要為format方法、函數、魔法參數、偏函數應用、面向對象編程、迭代器、新式類的高級特性和compile()等。原本預定要將生成器(yield)這部分的內容一併寫入，不過因為這部分內容難度較大，我覺得可能單獨寫成一篇文章比較好。另外，在今次的博文中，面向對象編程中的關於python的多重繼承機制，以及用戶如何自定義迭代器這兩個部分我會重點談一下。  今次博文寫完之後，基本上我的關於《"><meta property="og:type" content="blog"><meta property="og:title" content="《Python核心編程》筆記（三）"><meta property="og:url" content="https://justuno.github.io/2014/03/21/python-course-3/"><meta property="og:site_name" content="Justuno技術筆記"><meta property="og:description" content="今次的內容主要為format方法、函數、魔法參數、偏函數應用、面向對象編程、迭代器、新式類的高級特性和compile()等。原本預定要將生成器(yield)這部分的內容一併寫入，不過因為這部分內容難度較大，我覺得可能單獨寫成一篇文章比較好。另外，在今次的博文中，面向對象編程中的關於python的多重繼承機制，以及用戶如何自定義迭代器這兩個部分我會重點談一下。  今次博文寫完之後，基本上我的關於《"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://myblogpicture.qiniudn.com/5.jpg"><meta property="article:published_time" content="2014-03-21T02:17:11.000Z"><meta property="article:modified_time" content="2016-02-09T14:23:46.000Z"><meta property="article:author" content="Justuno"><meta property="article:tag" content="Python"><meta property="article:tag" content="教程"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="http://myblogpicture.qiniudn.com/5.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://justuno.github.io/2014/03/21/python-course-3/"},"headline":"《Python核心編程》筆記（三）","image":["http://myblogpicture.qiniudn.com/5.jpg"],"datePublished":"2014-03-21T02:17:11.000Z","dateModified":"2016-02-09T14:23:46.000Z","author":{"@type":"Person","name":"Justuno"},"publisher":{"@type":"Organization","name":"Justuno技術筆記","logo":{"@type":"ImageObject","url":{"text":"Justuno東拉西扯"}}},"description":"今次的內容主要為format方法、函數、魔法參數、偏函數應用、面向對象編程、迭代器、新式類的高級特性和compile()等。原本預定要將生成器(yield)這部分的內容一併寫入，不過因為這部分內容難度較大，我覺得可能單獨寫成一篇文章比較好。另外，在今次的博文中，面向對象編程中的關於python的多重繼承機制，以及用戶如何自定義迭代器這兩個部分我會重點談一下。  今次博文寫完之後，基本上我的關於《"}</script><link rel="canonical" href="https://justuno.github.io/2014/03/21/python-course-3/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-49018948-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-49018948-1');</script><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">Justuno東拉西扯</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2014-03-21T02:17:11.000Z" title="3/21/2014, 10:17:11 AM">2014-03-21</time>发表</span><span class="level-item"><time dateTime="2016-02-09T14:23:46.000Z" title="2/9/2016, 10:23:46 PM">2016-02-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a></span><span class="level-item">29 分钟读完 (大约4347个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">《Python核心編程》筆記（三）</h1><div class="content"><br />
今次的內容主要為format方法、函數、魔法參數、偏函數應用、面向對象編程、迭代器、新式類的高級特性和compile()等。原本預定要將生成器(yield)這部分的內容一併寫入，不過因為這部分內容難度較大，我覺得可能單獨寫成一篇文章比較好。另外，在今次的博文中，面向對象編程中的關於python的多重繼承機制，以及用戶如何自定義迭代器這兩個部分我會重點談一下。

<p>今次博文寫完之後，基本上我的關於《Python核心編程》的筆記就到此結束了，之後關於python的技術心得文章應該會以專題的形式來進行撰寫，即一篇博文重點談一個問題，這樣檢索起來也比較方便。當然了，如果日後再遇到一些值得記錄下來的比較雜亂的小知識，我也會酌情考慮是否要將其作為《Python核心編程》筆記（四）來進行撰寫，畢竟python一些比較細節的語言特性還是值得我們注意的。</p>
<p><strong>注：本書為第二版，其中python的代碼主要為2.x版本，使用python3.x的朋友請留意。</strong></p>
<span id="more"></span>

<hr>
<h2 id="format方法"><a href="#format方法" class="headerlink" title="format方法"></a>format方法</h2><p>format方法主要用於構造字符串，個人認為這個方法在需要格式化輸出一些信息的時候用的比較多。這部分內容並不難理解，直接上代碼即可明白。</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">25</span></span><br><span class="line">name = <span class="string">&#x27;Swaroop&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#123;0&#125; is &#123;1&#125; years old&#x27;</span>.<span class="built_in">format</span>(name,age))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Why is &#123;0&#125; playing with that python?&#x27;</span>.<span class="built_in">format</span>(name))</span><br></pre></td></tr></table></figure>

<p>輸出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Swaroop is 25 years old</span><br><span class="line">Why is Swaroop playing with that python?</span><br></pre></td></tr></table></figure>

<p>你可以注意到變量值到字符串的轉變是由format方法自動完成的，這就方便了我們輸出字符串而不用去糾結那些%s,%d之類的東西。大括號中的數字表示format方法中的參數的位置，0表示第一個參數，1表示第二個參數，以此類推，然後你在前面的字符串中指定是要輸出哪個變量的值即可。當然了，你也可以將大括號中的數字省略，這樣就意味著format會按照其參數的順序來為字符串中的大括號進行依次賦值的工作。</p>
<p>format方法的威力還不只如此，請閱讀下面的例子：</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#123;0:.9&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="number">1</span>/<span class="number">3</span>)</span><br><span class="line"><span class="number">0.333333333</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#123;0:_^11&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;___hello___&#x27;</span>  <span class="comment">#用下劃線將字符串&#x27;hello&#x27;填充至11個字符。</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#123;name&#125; wrote &#123;book&#125;&#x27;</span>.<span class="built_in">format</span>(name=<span class="string">&#x27;Swaroop&#x27;</span>, book=<span class="string">&#x27;A Byte of Python&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;Swaroop wrote A Byte of Python&#x27;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="函數"><a href="#函數" class="headerlink" title="函數"></a>函數</h2><p>python的函數”看上去”可以返回多個對象，如：</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">bar</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;abc&#x27;</span>, [<span class="number">42</span>,<span class="string">&#x27;python&#x27;</span>], <span class="string">&quot;Guido&quot;</span></span><br></pre></td></tr></table></figure>

<p>這麼寫是合法的，不過事實上它返回的是<strong>一個元組</strong>，而並不是真正的多個對象。這裡只是省去了小括號而已。</p>
<p><strong>函數屬性</strong></p>
<p>函數是可以擁有屬性的：</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">bar</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">bar.__doc__ == <span class="string">&#x27;fuck&#x27;</span></span><br><span class="line">bar.version = <span class="number">0.1</span></span><br></pre></td></tr></table></figure>

<p>不過我們不能在函數定義的內部訪問這些屬性，因為在函數中沒有self這種東西，所以不能訪問的原因是因為函數體尚未創建。</p>
<hr>
<h2 id="魔法參數"><a href="#魔法參數" class="headerlink" title="魔法參數"></a>魔法參數</h2><p>這個特性是我目前最喜歡的一個python的語言特性，非常優雅，非常美妙，令人愛不釋手。這個特性主要用於需要定義能夠獲取任意數量個參數的函數的場合。舉例如下：</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">total</span>(<span class="params">initial=<span class="number">5</span>, *numbers, **keywords</span>):</span><br><span class="line">    count = initial</span><br><span class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> numbers:</span><br><span class="line">        count += number</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> keywords:</span><br><span class="line">        count += keywords[key]</span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line">　　</span><br><span class="line"><span class="built_in">print</span>(total(<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, vegetables=<span class="number">50</span>, fruits=<span class="number">100</span>))</span><br></pre></td></tr></table></figure>

<p>輸出的結果為166，不過166是怎麼計算出來的呢？請聽我娓娓道來：</p>
<p>當我們定義了一個帶一個星號的參數的時候，比如說這裡的numbers，就表示從該參數所在的位置開始到最後所有的除去關鍵字參數以外的參數會全部被收集到一個叫做numbers的列表中。在本例中，initial的值由默認的5變為了10，然後這之後的1，2，3全部被放進了名為numbers的列表中。同樣，當我們定義了一個帶兩個星號的參數的時候，比如說這裡的keywords，則表示從該參數所在的位置開始到最後的所有的關鍵字參數都會被收集到名為keywords的字典中。那麼在本例中，vegetables&#x3D;50, fruits&#x3D;100就被放進了這個字典中，其中vegetables和fruits為該字典中的兩個鍵，50和100為分別為它們的值。</p>
<p><strong>需要特別注意的是，有默認值的參數必須處在沒有默認值參數的後面，否則解釋器會報錯。</strong></p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">b=<span class="number">5</span>,a</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span></span><br><span class="line">SyntaxError: non-default argument follows default argument</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">a,b=<span class="number">5</span></span>):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<p><strong>Keyword-only 參數</strong></p>
<p>Keyword-only參數在我的理解中就是你在調用函數的時候，必須實名給出其值的參數。舉例如下：</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">total</span>(<span class="params">initial=<span class="number">5</span>, *numbers, vegetables</span>):</span><br><span class="line">    count = initial</span><br><span class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> numbers:</span><br><span class="line">        count += number</span><br><span class="line">    count += vegetables</span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(total(<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, vegetables=<span class="number">50</span>))</span><br><span class="line"><span class="built_in">print</span>(total(<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>,))</span><br><span class="line"><span class="comment"># Raises error because we have not supplied a default argument value for &#x27;vegetables&#x27;</span></span><br></pre></td></tr></table></figure>

<p>輸出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ python keyword_only.py</span><br><span class="line"><span class="number">66</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">File <span class="string">&quot;test.py&quot;</span>, line <span class="number">12</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line"><span class="built_in">print</span>(total(<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">TypeError: total() needs keyword-only argument vegetables</span><br></pre></td></tr></table></figure>

<p>在帶星號的參數後面聲明參數，解釋器會認為其為Keyword-only參數。那麼如果該參數沒有默認值，而且你在調用的時候也沒有給他賦值，那麼解釋器就會報錯。如果你想使用Keyword-only參數，但又不需要帶有星號的參數，可以簡單地用一個星號來代替帶星號的參數，如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">total</span>(<span class="params">initial=<span class="number">5</span>, *, vegetables</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>需要特別注意的是，哪怕你在調用的時候，參數的數目已經與函數的定義的參數數目相同，如果你沒有指明Keyword-only參數和其值，那麼一樣會報錯，也就是說：以上面那個函數為例，其參數數目為兩個，如果你這樣調用total(1,2)還是會報錯，解釋器會提醒你你給多了參數，而不會將這個2認為是Keyword-only參數的值。</p>
<p><strong>調用帶有可變長參數對象的函數</strong></p>
<p>這同樣是一個需要留意的特性，請注意如下代碼：</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">aTuple = (<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">aDict = &#123;<span class="string">&#x27;z&#x27;</span>:<span class="number">9</span>&#125;</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">newfoo</span>(<span class="params">arg1, arg2, *nkw, **kw</span>):</span><br><span class="line">    <span class="keyword">pass</span>  <span class="comment">#這裡略去不寫，該函數的功能就是簡單地將參數值按照不同類別來分別輸出。</span></span><br><span class="line">newfoo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, x = <span class="number">4</span>, y = <span class="number">5</span>, *aTuple, **aDict)</span><br></pre></td></tr></table></figure>

<p>我們按照上述方法來調用該函數，其結果為：arg1 &#x3D; 1，arg2 &#x3D; 2，nkw列表中的值分別為：3，6，7，8，而kw字典中的鍵值對分別為：{‘z’:9, ‘x’:4, ‘y’:5}（這裡我感覺不需要在意列表和字典中數據存放的次序）</p>
<hr>
<h2 id="偏函數應用-Partial-Function-Application-PFA"><a href="#偏函數應用-Partial-Function-Application-PFA" class="headerlink" title="偏函數應用(Partial Function Application PFA)"></a>偏函數應用(Partial Function Application PFA)</h2><p>這裡所指的是一類比較特殊的函數，即它們可以將帶有任意數量參數的函數轉化成另一些帶有剩餘參數的函數對象。某種意義上這和使用默認參數的情形相同，但在PFA的例子中，參數不需要調用函數默認值，而只需要明確要調用的集合。這樣一來對於一個函數來說，你可以擁有針對它的諸多偏函數調用，每個都能用不同的參數傳遞給原函數，然後進行調用。</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> operator <span class="keyword">import</span> add, mul</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add1 = partial(add, <span class="number">1</span>)         <span class="comment"># add1(x) == add(1, x)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mul100 = partial(mul, <span class="number">100</span>)     <span class="comment"># mul100(x) == mul(100, x)</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add1(<span class="number">10</span>)</span><br><span class="line"><span class="number">11</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add1(<span class="number">1</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mul100(<span class="number">10</span>)</span><br><span class="line"><span class="number">1000</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mul100(<span class="number">500</span>)</span><br><span class="line"><span class="number">50000</span></span><br></pre></td></tr></table></figure>

<p>add1函數的功能是對傳進來的參數的值執行加一操作，然後返回；mul100則是對其進行乘以100的操作，然後返回。你可以看到我們並不需要去實現這兩個函數，我們調用的是已經存在的函數，然而我們卻可以做到調用簡化，這就是PFA的威力。這種威力在我們需要調用那些帶有許多參數的函數的時候體現得最為明顯。這裡再舉一例：</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>baseTwo = partial(<span class="built_in">int</span>, base=<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>baseTwo.__doc__ = <span class="string">&#x27;Convert base 2 string to an int.&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>baseTwo(<span class="string">&#x27;10010&#x27;</span>)</span><br><span class="line"><span class="number">18</span></span><br></pre></td></tr></table></figure>

<p>以後我們想把二進制字符串轉換為十進制數字的時候，就可以簡單調用baseTwo函數了，而不需要每次都很繁瑣地調用int(‘10010’, 2)。不過你需要注意，如果你創建了不帶關鍵字參數的函數，比如baseTwo &#x3D; partial(int, 2)，這可能會讓參數以錯誤的順序傳入int()，因為固定參數總是放在運行時刻參數的左邊，即baseTwo &#x3D;&#x3D; int(2, x)，這時便會出現異常。</p>
<hr>
<h2 id="一個有趣的特性"><a href="#一個有趣的特性" class="headerlink" title="一個有趣的特性"></a>一個有趣的特性</h2><p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fuck = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>&#125;[<span class="string">&#x27;a&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(fuck)   <span class="comment">#輸出為1</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">a</span>(<span class="params">fuck</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">b</span>():<span class="built_in">print</span>(<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">c</span>():<span class="built_in">print</span>(<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">    suck = &#123;<span class="string">&#x27;funcb&#x27;</span>:b, <span class="string">&#x27;funcc&#x27;</span>:c&#125;[fuck]</span><br><span class="line">    suck()</span><br><span class="line">a(<span class="string">&#x27;funcb&#x27;</span>)  <span class="comment">#輸出b</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="面向對象編程"><a href="#面向對象編程" class="headerlink" title="面向對象編程"></a>面向對象編程</h2><p>面向對象編程大家應該都已經比較熟悉了，我這裡就著重只談一些我認為比較重要的地方。</p>
<ol>
<li><p>如果需要，每個子類最好定義它自己的構造器，不然基類的構造器會被調用。然而若子類重寫了基類的構造器，則基類的構造器將不會被自動調用，而需要你手動去調用。</p>
</li>
<li><p>解構器–del–只有在當前類實例的所有引用都被清除掉之後才會被調用。注意：重寫–del–之前要記得調用父類的–del–，另外，調用del x不表示調用了x.–del–，而只是減少了x的引用計數。</p>
</li>
<li><p>要想更新類屬性，只能通過類名來訪問該屬性。若通過實例來訪問，會相當於創建了一個該實例的屬性，而不是修改類屬性。當然了，這裡針對的是那些不可變的類屬性，若為可變類屬性，則通過實例來訪問的話，會直接修改該類屬性。</p>
</li>
<li><p>若想在子類中調用父類的方法，推薦採用super方法。</p>
</li>
</ol>
<p> 代碼示例：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">P</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">foo</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Hi,I&#x27;</span>m P-foo())</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">P</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">foo</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(C,self).foo()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Hi,I&#x27;</span>m C-foo()) </span><br><span class="line">c = C()</span><br><span class="line">c.foo()</span><br></pre></td></tr></table></figure>

<p> 輸出：</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hi,I&#x27;m P-foo()</span><br><span class="line">Hi,I&#x27;m C-foo()</span><br></pre></td></tr></table></figure>

<p> 關於super()，其實這一塊的水挺深的，我這裡只是簡單地做一個介紹，詳細地可以看這裡：<a target="_blank" rel="noopener" href="http://blog.csdn.net/johnsonguo/article/details/585193">關於python中的super()用法研究</a></p>
<p><strong>多重繼承</strong></p>
<p>說道多重繼承，一個顯而易見的問題就是當子類調用其父類中的某個方法的時候，（假設其父類都有該方法）python解釋器是按照何種方式在繼承樹上進行遍歷的。在python2.x的版本中，類分為經典類（不繼承自object）和新式類（繼承自object）。不過在python3.x中，這兩者已經沒有區別，都是新式類。按照《核心編程》中的說法，經典類是採用深搜的方法來遍歷繼承樹的，而新式類則是採用廣搜的方法。這裡我們只舉新式類的例子：</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">P1</span>: <span class="comment">#(object):                     # 父类1</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">foo</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;called P1-foo()&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">P2</span>: <span class="comment">#(object):                     # 父类2</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">foo</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;called P2-foo()&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">bar</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;called P2-bar()&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C1</span>(P1, P2):                        <span class="comment">#子类1，从P1，P2 派生</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C2</span>(P1, P2):                        <span class="comment">#子类2，从P1，P2 派生</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">bar</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;called C2-bar()&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GC</span>(C1, C2):                        <span class="comment">#定义子孙类</span></span><br><span class="line">    <span class="keyword">pass</span>                                 <span class="comment">#从C1，C2 派生</span></span><br></pre></td></tr></table></figure>

<p>繼承樹示意圖如下：</p>
<p><img src="http://myblogpicture.qiniudn.com/5.jpg"></p>
<p>然後我們來執行如下代碼：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>gc = GC()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>gc.foo()               <span class="comment"># GC ==&gt; C1 ==&gt; C2 ==&gt; P1</span></span><br><span class="line">called P1-foo()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>gc.bar()               <span class="comment"># GC ==&gt; C1 ==&gt; C2</span></span><br><span class="line">called C2-bar()</span><br></pre></td></tr></table></figure>

<p>我們可以清楚地看到，這裡採用的搜索算法為廣搜算法，即優先搜索在繼承樹中離自己最近的父類。</p>
<hr>
<h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><p>什麼叫迭代器？我們定義了一個–iter–()方法的類就被叫做迭代器，這意味著我們可以自己創建自己的迭代器。我們先來看一個簡單的代碼：</p>
<p>代碼示例：</p>
<p>(randSeq.py)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RandSeq</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, seq</span>):</span><br><span class="line">        self.data = seq</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__next__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> choice(self.data)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> randseq <span class="keyword">import</span> RandSeq</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> eachItem <span class="keyword">in</span> RandSeq(</span><br><span class="line"><span class="meta">... </span>   (<span class="string">&#x27;rock&#x27;</span>, <span class="string">&#x27;paper&#x27;</span>, <span class="string">&#x27;scissors&#x27;</span>)):</span><br><span class="line"><span class="meta">... </span>   <span class="built_in">print</span> (eachItem)</span><br><span class="line">...</span><br><span class="line">scissors</span><br><span class="line">scissors</span><br><span class="line">rock</span><br><span class="line">paper</span><br><span class="line">paper</span><br><span class="line">scissors</span><br><span class="line">:</span><br></pre></td></tr></table></figure>

<p>這裡我們創建了一個隨機序列迭代器，它接受一個序列，然後隨機地返回其中的元素，需要注意的是這是一個無窮迭代，因為我們無損地讀取了一個序列，所以它是不會越界的。我們可以看到–iter–()僅返回self，這就是如何將一個對象聲明為迭代器的方式，最後，調用–next–方法來得到迭代器中連續的值。</p>
<p>我們在來看一個例子：</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyIterator</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,step</span>):</span><br><span class="line">        self.step=step</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__next__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.step==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration</span><br><span class="line">        self.step-=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.step</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> MyIterator(<span class="number">6</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>

<p>輸出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; ================================ RESTART ================================</span><br><span class="line">&gt;&gt;&gt; </span><br><span class="line">5</span><br><span class="line">4</span><br><span class="line">3</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">0</span><br><span class="line">&gt;&gt;&gt; </span><br></pre></td></tr></table></figure>

<p>令這個迭代停止下來的方法就是捕獲StopIteration異常。</p>
<hr>
<h2 id="新式類的高級屬性"><a href="#新式類的高級屬性" class="headerlink" title="新式類的高級屬性"></a>新式類的高級屬性</h2><p>簡單的模塊級私有化只需要在屬性或函數名前加一個單下劃線字符即可，這樣就可以防止它們被from mymodule import *這樣的語句加載。</p>
<p>–slots–是一個類變量，由一序列型對象組成，由所有合法標識構成的實例屬性的集合來表示。它可以是一個列表、元組或可迭代對象，也可以是標識實例能擁有的唯一的屬性的簡單字符串。任何試圖創建一個其名不在–slots–中的名字的實例屬性都將導致AttributeError異常。</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SlottedClass</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    __slots__ = (<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = SlottedClass()</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.foo = <span class="number">42</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.xxx = <span class="string">&quot;don&#x27;t think so&quot;</span> Traceback (most recent call last):</span><br><span class="line">File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> ?</span><br><span class="line">AttributeError: <span class="string">&#x27;SlottedClass&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;xxx&#x27;</span></span><br></pre></td></tr></table></figure>

<p>這種特性的主要目的是節約內存。其副作用是某種類型的”安全”,它能防止用戶隨心所欲地動態增加實例屬性。帶__slots__屬性的類定義不會存在__dict__了（除非你在__slots__中增加’<strong>dict</strong>‘元素）。</p>
<p>python給類提供了名為–call–的特殊方法，該方法允許程序員創建可調用的對象（實例）。</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self,*args</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;args:\n&#x27;</span>,args)</span><br><span class="line">c = C()</span><br><span class="line">c(<span class="number">3</span>)  <span class="comment">#輸出(3, )</span></span><br></pre></td></tr></table></figure>

<p>callable()為一個布爾函數，用於判斷一個對象是否是可調用的。可調用返回True，否則返回False。</p>
<hr>
<h2 id="compile"><a href="#compile" class="headerlink" title="compile()"></a>compile()</h2><p>compile()允許程序員在運行時刻迅速生成代碼對象，然後就可以用exec()或者內建函數eval()來執行這些對象或者對它們進行求值了。一個很重要的地方是：exec()和eval()都可以執行字符串格式的python代碼。但是exec()更加強大并更具有技巧性。eval()函數只能執行單獨一條表達式，但是exec()能够執行多條語句，導入(import)，函數聲明，甚至整個Python程序的字符串表示也可以。</p>
<p>compile函數的三個參數都是必需的，第一個參數代表要編譯的python代碼（字符串），第二個參數代表存放代碼對象的文件的名字（字符串）。雖為必需，但通常被置為空字符串。第三個參數也是一個字符串，用來表明代碼對象的類型，它有以下三種可能取值：</p>
<ul>
<li>‘eval’ 可求值表達式，和eval()一起使用</li>
<li>‘single’ 單一可執行語句，和exec()一起使用</li>
<li>‘exec’ 可執行語句組，和exec()一起使用</li>
</ul>
<p>下面分別給出這三種情況的例子：</p>
<p><strong>可求值表達式</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>eval_code = <span class="built_in">compile</span>(<span class="string">&#x27;100 + 200&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;eval&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">eval</span>(eval_code)</span><br><span class="line"><span class="number">300</span></span><br></pre></td></tr></table></figure>

<p><strong>單一可執行語句</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>single_code = <span class="built_in">compile</span>(<span class="string">&#x27;print(&quot;hello world!&quot;)&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;single&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">exec</span>(single_code)</span><br><span class="line">hello world!</span><br></pre></td></tr></table></figure>

<p><strong>可執行語句組</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>exec_code = <span class="built_in">compile</span>(<span class="string">&quot;&quot;&quot;req = int(input(&#x27;Count how many numbers?&#x27;))</span></span><br><span class="line"><span class="string">for eachNum in range(req):</span></span><br><span class="line"><span class="string">    print(eachNum)&quot;&quot;&quot;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;exec&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">exec</span>(exec_code)</span><br><span class="line">Count how many numbers?<span class="number">6</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="需要注意的小知識"><a href="#需要注意的小知識" class="headerlink" title="需要注意的小知識"></a>需要注意的小知識</h2><p>在python3中，對於input()，用戶輸入什麼它就返回什麼，即只是簡單地將其作為字符串返回；而對於eval(input())，則會將用戶輸入的東西作為表達式進行求值，然後返回其結果。</p>
<p>代碼示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="built_in">eval</span>(<span class="built_in">input</span>())</span><br><span class="line"><span class="number">1</span>+<span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(a)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="built_in">input</span>()</span><br><span class="line"><span class="number">1</span>+<span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(a)</span><br><span class="line"><span class="number">1</span>+<span class="number">2</span></span><br></pre></td></tr></table></figure></div><div class="article-licensing box"><div class="licensing-title"><p>《Python核心編程》筆記（三）</p><p><a href="https://justuno.github.io/2014/03/21/python-course-3/">https://justuno.github.io/2014/03/21/python-course-3/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Justuno</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2014-03-21</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2016-02-09</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Python/">Python</a><a class="link-muted mr-2" rel="tag" href="/tags/%E6%95%99%E7%A8%8B/">教程</a></div><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_telegram"></a><a class="a2a_button_whatsapp"></a><a class="a2a_button_reddit"></a></div><script src="https://static.addtoany.com/menu/page.js" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2014/03/26/answer1/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">我在知乎上的長篇回答</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2014/03/15/python-course-2/"><span class="level-item">《Python核心編程》筆記（二）</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://justuno.github.io/2014/03/21/python-course-3/';
            this.page.identifier = '2014/03/21/python-course-3/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'justunolyd' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.jpeg" alt="JustUno"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">JustUno</p><p class="is-size-6 is-block">Java Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Shenzhen, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">10</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">5</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">13</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/justuno" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/justuno"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/justuno2008"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/justuno2008"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Redis/"><span class="level-start"><span class="level-item">Redis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%80%8B%E4%BA%BA%E5%BF%83%E5%BE%97/"><span class="level-start"><span class="level-item">個人心得</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%82%BC%E6%96%87/"><span class="level-start"><span class="level-item">悼文</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%9F%A5%E4%B9%8E/"><span class="level-start"><span class="level-item">知乎</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-04-02T13:31:39.000Z">2022-04-02</time></p><p class="title"><a href="/2022/04/02/mian-huai-laoye/">缅怀姥爷：一位我最最敬爱的老人</a></p><p class="categories"><a href="/categories/%E6%82%BC%E6%96%87/">悼文</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-29T21:47:56.000Z">2022-03-30</time></p><p class="title"><a href="/2022/03/30/ji-nian-wo-de-laolao/">别梦依稀咒逝川，茕茕尤作痛心人──关于姥姥的回忆</a></p><p class="categories"><a href="/categories/%E6%82%BC%E6%96%87/">悼文</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2016-02-21T15:45:04.000Z">2016-02-21</time></p><p class="title"><a href="/2016/02/21/2016-02-21-yun-zhi-bi-duan/">新海誠 -《雲之彼端》：宏大背景下的蒼白敘事</a></p><p class="categories"><a href="/categories/%E5%80%8B%E4%BA%BA%E5%BF%83%E5%BE%97/">個人心得</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2016-01-23T17:37:26.000Z">2016-01-24</time></p><p class="title"><a href="/2016/01/24/2016-01-24-my-impressive-rock-album/">那些令我印象深刻的搖滾專輯（一）</a></p><p class="categories"><a href="/categories/%E5%80%8B%E4%BA%BA%E5%BF%83%E5%BE%97/">個人心得</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2015-09-28T08:31:00.000Z">2015-09-28</time></p><p class="title"><a href="/2015/09/28/2015-09-28-redis-cluster-1/">关于Redis Cluster，我所知道的事（一）</a></p><p class="categories"><a href="/categories/Redis/">Redis</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">四月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/02/"><span class="level-start"><span class="level-item">二月 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/01/"><span class="level-start"><span class="level-item">一月 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/09/"><span class="level-start"><span class="level-item">九月 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/03/"><span class="level-start"><span class="level-item">三月 2014</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/redis/"><span class="tag">redis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"><span class="tag">分布式</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8B%95%E6%BC%AB/"><span class="tag">動漫</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9B%9E%E7%AD%94/"><span class="tag">回答</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BF%83%E5%BE%97/"><span class="tag">心得</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%82%BC%E6%96%87/"><span class="tag">悼文</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%90%96%E6%BB%BE/"><span class="tag">搖滾</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%99%E7%A8%8B/"><span class="tag">教程</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%9F%A5%E4%B9%8E/"><span class="tag">知乎</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BC%93%E5%AD%98/"><span class="tag">缓存</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BF%BD%E5%BF%86/"><span class="tag">追忆</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9B%9C%E6%96%87/"><span class="tag">雜文</span><span class="tag">3</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">Justuno東拉西扯</a><p class="is-size-7"><span>&copy; 2022 Justuno</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>